/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/components/btn/createCars.ts":
/*!******************************************!*\
  !*** ./src/components/btn/createCars.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CreateCar = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nconst car_1 = __webpack_require__(/*! ../car/car */ \"./src/components/car/car.ts\");\nclass CreateCar extends component_1.Component {\n    constructor(main, communicationWith, ...args) {\n        super(...args);\n        this.main = main;\n        this.text = 'Create';\n        this.communicationWith = communicationWith;\n    }\n    render() {\n        super.render();\n        this.elem.textContent = this.text;\n    }\n    createCar() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let body = {\n                name: this.communicationWith[0].getName() || 'default Car',\n                color: this.communicationWith[1].getColor() || '#fb0404',\n            };\n            let res = yield fetch('http://127.0.0.1:3000/garage', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(body),\n            });\n            if (res.ok) {\n                const json = yield res.json();\n                let car = new car_1.Car(json.name, json.color, json.id, ['carContainer']);\n                car.render();\n                this.main.arrCars.push(car);\n                document.querySelector('.garageContainer').insertAdjacentElement('beforeend', car.elem);\n                this.communicationWith[2].amount = String(this.main.arrCars.length);\n                this.communicationWith[2].render();\n                this.communicationWith[0].elem.value = '';\n                this.communicationWith[0].name = '';\n            }\n        });\n    }\n    eventHandler() {\n        this.elem.addEventListener('click', (event) => __awaiter(this, void 0, void 0, function* () {\n            this.createCar();\n        }));\n    }\n    getBody(name, color) {\n        return {\n            name: name,\n            color: color,\n        };\n    }\n}\nexports.CreateCar = CreateCar;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/btn/createCars.ts?");

/***/ }),

/***/ "./src/components/btn/engine.ts":
/*!**************************************!*\
  !*** ./src/components/btn/engine.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.EngineBtn = void 0;\nclass EngineBtn {\n    constructor(classes, text) {\n        this.classes = classes;\n        this.text = text;\n        this.elem = document.createElement('button');\n    }\n    render() {\n        this.elem.textContent = this.text;\n        this.elem.classList.add(...this.classes);\n    }\n    startStopCar(event) {\n        let divFromStart = event.target.classList.contains('engineBtn')\n            ? event.target.closest('div')\n            : null;\n        console.log(divFromStart);\n    }\n}\nexports.EngineBtn = EngineBtn;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/btn/engine.ts?");

/***/ }),

/***/ "./src/components/btn/garage.ts":
/*!**************************************!*\
  !*** ./src/components/btn/garage.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GarageBtn = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nclass GarageBtn extends component_1.Component {\n    constructor(communicationWith, main, ...args) {\n        super(...args);\n        this.communicationWith = communicationWith;\n        this.main = main;\n        this.text = 'To garage';\n    }\n    render() {\n        super.render();\n        this.elem.textContent = this.text;\n    }\n    eventHandler() {\n        this.elem.addEventListener('click', () => {\n            document.querySelector('.hatContainer').remove();\n            this.communicationWith.forEach((v) => {\n                v.render();\n            });\n            this.main.getCars();\n        });\n    }\n}\nexports.GarageBtn = GarageBtn;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/btn/garage.ts?");

/***/ }),

/***/ "./src/components/btn/generate.ts":
/*!****************************************!*\
  !*** ./src/components/btn/generate.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GenerateBtn = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nclass GenerateBtn extends component_1.Component {\n    constructor(...args) {\n        super(...args);\n        this.text = 'Generate Cars';\n    }\n    render() {\n        super.render();\n        this.elem.textContent = this.text;\n    }\n}\nexports.GenerateBtn = GenerateBtn;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/btn/generate.ts?");

/***/ }),

/***/ "./src/components/btn/race.ts":
/*!************************************!*\
  !*** ./src/components/btn/race.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RaceBtn = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nconst textWints_1 = __webpack_require__(/*! ../textWints */ \"./src/components/textWints.ts\");\nclass RaceBtn extends component_1.Component {\n    constructor(main, ...args) {\n        super(...args);\n        this.main = main;\n        this.text = 'Race';\n        this.TextWin = new textWints_1.TextWin();\n    }\n    render() {\n        super.render();\n        this.elem.textContent = this.text;\n        this.TextWin.add();\n    }\n    getSvg() {\n        let svgs = this.main.arrCars.map((v) => {\n            let svg = v.elem.querySelector('svg');\n            svg.style.position = 'relative';\n            svg.style.left = '0px';\n            return svg;\n        });\n        return svgs;\n    }\n    getId() {\n        let ids = this.main.arrCars.map((v) => {\n            return String(v.id);\n        });\n        return ids;\n    }\n    getTime() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let urls = this.main.arrCars.map((v) => {\n                return `http://127.0.0.1:3000/engine?id=${v.id}&status=started`;\n            });\n            let requests = urls.map((url) => {\n                let res = fetch(url, {\n                    method: 'PATCH',\n                });\n                return res;\n            });\n            let times = yield Promise.all(requests).then((responses) => responses.map((response, i) => __awaiter(this, void 0, void 0, function* () {\n                let data = yield response.json();\n                let time = data.distance / data.velocity;\n                let svgs = this.getSvg();\n                let ids = this.getId();\n                let size = this.main.windowSize - 220;\n                this.main.animate(time, function (progress) {\n                    svgs[i].style.left = progress * size + 'px';\n                }, function (timeFraction) {\n                    return Math.pow(timeFraction, 2);\n                });\n                let driveRes = yield fetch(`http://127.0.0.1:3000/engine?id=${ids[i]}&status=drive`, {\n                    method: 'PATCH',\n                });\n                if (driveRes.ok) {\n                    return time;\n                }\n                else {\n                    let x = svgs[i].style.left;\n                    svgs[i].style.position = 'static';\n                    svgs[i].style.marginLeft = x;\n                    return 20000;\n                }\n            })));\n            return times;\n        });\n    }\n    createWinner(id, time, wins) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let body = {\n                id: id,\n                wins: wins,\n                time: time,\n            };\n            let prevTime = time;\n            let res = yield fetch('http://127.0.0.1:3000/winners', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(body),\n            });\n            if (res.ok) {\n                console.log(yield res.json());\n            }\n            else {\n                this.getWinner(id, prevTime);\n            }\n        });\n    }\n    updateWinner(id, time, wins) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let body = {\n                id: id,\n                wins: wins,\n                time: time,\n            };\n            let res = yield fetch(`http://127.0.0.1:3000/winners/${id}`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(body),\n            });\n            if (res.ok) {\n                console.log(yield res.json());\n            }\n            else {\n                console.log('Ошибка HTTP: ' + res.status);\n            }\n        });\n    }\n    getWinner(id, prevTime) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield fetch(`http://127.0.0.1:3000/winners/${id}`);\n            if (res.ok) {\n                let data = yield res.json();\n                if (prevTime < data.time) {\n                    this.updateWinner(id, prevTime, data.wins + 1);\n                }\n                else {\n                    this.updateWinner(id, data.time, data.wins + 1);\n                }\n            }\n            else {\n                console.log('Ошибка HTTP: ' + res.status);\n            }\n        });\n    }\n    eventHandler() {\n        this.elem.addEventListener('click', (event) => {\n            this.getTime()\n                .then((data) => {\n                if (data)\n                    return Promise.all(data);\n            })\n                .then((arr) => {\n                console.log(arr);\n                let minArr = arr;\n                let min = Math.min.apply(minArr, minArr);\n                let sec = +(min / 1000).toFixed(3);\n                let ind = minArr.indexOf(min);\n                let car = this.main.arrCars[ind];\n                let prop = +car.id;\n                this.createWinner(prop, sec, 1);\n                let obj = {\n                    min: sec,\n                    ind: ind,\n                };\n                return obj;\n            })\n                .then((obj) => {\n                this.TextWin.show(obj.ind, obj.min);\n                setTimeout(() => {\n                    this.TextWin.elem.style.display = 'none';\n                }, 4000);\n            });\n        });\n    }\n}\nexports.RaceBtn = RaceBtn;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/btn/race.ts?");

/***/ }),

/***/ "./src/components/btn/remove.ts":
/*!**************************************!*\
  !*** ./src/components/btn/remove.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RemoveBtn = void 0;\nclass RemoveBtn {\n    constructor(classes) {\n        this.classes = classes;\n        this.elem = document.createElement('button');\n        this.text = 'Remove';\n    }\n    render() {\n        this.elem.textContent = this.text;\n        this.elem.classList.add(...this.classes);\n    }\n}\nexports.RemoveBtn = RemoveBtn;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/btn/remove.ts?");

/***/ }),

/***/ "./src/components/btn/reset.ts":
/*!*************************************!*\
  !*** ./src/components/btn/reset.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ResetBtn = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nclass ResetBtn extends component_1.Component {\n    constructor(main, ...args) {\n        super(...args);\n        this.main = main;\n        this.text = 'Reset';\n    }\n    render() {\n        super.render();\n        this.elem.textContent = this.text;\n    }\n    eventHandler() {\n        this.elem.addEventListener('click', () => {\n            this.main.arrCars.forEach((v) => {\n                let svg = v.elem.querySelector('svg');\n                svg.style.position = 'static';\n                svg.style.marginLeft = '0px';\n            });\n        });\n    }\n}\nexports.ResetBtn = ResetBtn;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/btn/reset.ts?");

/***/ }),

/***/ "./src/components/btn/select.ts":
/*!**************************************!*\
  !*** ./src/components/btn/select.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SelectBtn = void 0;\nclass SelectBtn {\n    constructor(classes) {\n        this.classes = classes;\n        this.elem = document.createElement('button');\n        this.text = 'Select';\n    }\n    render() {\n        this.elem.textContent = this.text;\n        this.elem.classList.add(...this.classes);\n    }\n}\nexports.SelectBtn = SelectBtn;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/btn/select.ts?");

/***/ }),

/***/ "./src/components/btn/update.ts":
/*!**************************************!*\
  !*** ./src/components/btn/update.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.UpdateBtn = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nclass UpdateBtn extends component_1.Component {\n    constructor(main, communicationWith, ...args) {\n        super(...args);\n        this.main = main;\n        this.communicationWith = communicationWith;\n        this.text = 'Update';\n    }\n    render() {\n        super.render();\n        this.elem.textContent = this.text;\n    }\n    getBody() {\n        let body = {\n            name: this.communicationWith[0].name,\n            color: this.communicationWith[1].color,\n        };\n        return body;\n    }\n    getId() {\n        let id = this.communicationWith[0].id || this.communicationWith[1].id;\n        return id;\n    }\n    findIndex(id) {\n        let findIndex = this.main.arrCars.findIndex((v) => {\n            return v.id == id;\n        });\n        return findIndex;\n    }\n    updateCar() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield fetch(`http://127.0.0.1:3000/garage/${this.getId()}`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(this.getBody()),\n            });\n            if (res.ok) {\n                let car = yield fetch(`http://127.0.0.1:3000/garage/${this.getId()}`);\n                if (car.ok) {\n                    let jsonCar = yield car.json();\n                    document.getElementById(`${jsonCar.id}`).querySelector('span').textContent = jsonCar.name;\n                    (_a = document.getElementById(`${jsonCar.id}`)) === null || _a === void 0 ? void 0 : _a.setAttribute('color', jsonCar.color);\n                    this.main.arrCars[this.findIndex(jsonCar.id)].imgCar.render(jsonCar.color);\n                }\n            }\n            else {\n                console.log('Ошибка HTTP: ' + res.status);\n            }\n        });\n    }\n    eventHandler() {\n        this.elem.addEventListener('click', () => {\n            this.updateCar();\n        });\n    }\n}\nexports.UpdateBtn = UpdateBtn;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/btn/update.ts?");

/***/ }),

/***/ "./src/components/btn/winer.ts":
/*!*************************************!*\
  !*** ./src/components/btn/winer.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WinnersBtn = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nclass WinnersBtn extends component_1.Component {\n    constructor(...args) {\n        super(...args);\n        this.text = 'To Winner';\n        this.count = 1;\n        this.sortByWins = 'low';\n        this.sortByTime = 'low';\n    }\n    render() {\n        super.render();\n        this.elem.textContent = this.text;\n    }\n    draw() {\n        let mainDiv = document.querySelector('.main');\n        let hat = `\r\n        <div class = 'hatContainer'>\r\n            <p class = 'numWin'> Winners ()</p>\r\n            <div class = 'info'>\r\n                <p>Number</p>\r\n                <p>Car</p>\r\n                <p>Name</p>\r\n                <p class = 'winsP'>Wins</p>\r\n                <p class = 'timeP'>Best time(sec)</p>\r\n            </div>\r\n        </div>`;\n        mainDiv.insertAdjacentHTML('beforeend', hat);\n    }\n    makeWinner(color, name, wins, time, length) {\n        let p = document.querySelector('.numWin');\n        p.textContent = `Winners (${length})`;\n        let hat = document.querySelector('.hatContainer');\n        let html = `\r\n        <div class = 'winner'>\r\n            <p>${this.count}</p>\r\n            <p><?xml version=\"1.0\" standalone=\"no\"?>\r\n            <!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 20010904//EN\"\r\n             \"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\">\r\n            <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\r\n             width=\"1280.000000pt\" height=\"640.000000pt\" viewBox=\"0 0 1280.000000 640.000000\"\r\n             preserveAspectRatio=\"xMidYMid meet\">\r\n            <metadata>\r\n            Created by potrace 1.15, written by Peter Selinger 2001-2017\r\n            </metadata>\r\n            <g transform=\"translate(0.000000,640.000000) scale(0.100000,-0.100000)\"\r\n            fill=${color} stroke=\"none\">\r\n            <path d=\"M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\r\n            -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\r\n            -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\r\n            -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\r\n            -150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\r\n            0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\r\n            -126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\r\n            756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\r\n            140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\r\n            l-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\r\n            259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\r\n            -63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\r\n            -116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\r\n            525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\r\n            680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\r\n            -226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\r\n            -208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\r\n            10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\r\n            -422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\r\n            -485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\r\n            54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\r\n            -67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\r\n            274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\r\n            -27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z\"/>\r\n            <path d=\"M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\r\n            -467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\r\n            -551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\r\n            86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\r\n            -354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\r\n            1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\r\n            0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z\"/>\r\n            <path d=\"M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\r\n            -114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z\"/>\r\n            <path d=\"M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\r\n            22 c-34 28 -138 70 -193 79 l-40 7 0 -162z\"/>\r\n            <path d=\"M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\r\n            165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z\"/>\r\n            <path d=\"M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\r\n            165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z\"/>\r\n            <path d=\"M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\r\n            58 -13 0 -29 -8 -34 -18z\"/>\r\n            <path d=\"M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\r\n            9 153 -71 153 -27 0 -44 -8 -66 -29z\"/>\r\n            <path d=\"M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\r\n            -54 -2z\"/>\r\n            <path d=\"M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\r\n            -62 36z\"/>\r\n            <path d=\"M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\r\n            113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z\"/>\r\n            <path d=\"M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\r\n            195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z\"/>\r\n            <path d=\"M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\r\n            -70 0z\"/>\r\n            <path d=\"M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\r\n            0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z\"/>\r\n            <path d=\"M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\r\n            232 -230 231 -3 0 -11 -3 -17 -6z\"/>\r\n            <path d=\"M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\r\n            -411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\r\n            380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\r\n            -407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\r\n            33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\r\n            238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\r\n            81 364 77 109 -3 143 -7 210 -30z\"/>\r\n            <path d=\"M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\r\n            119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z\"/>\r\n            <path d=\"M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\r\n            -163 84 -207 91 l-43 7 0 -162z\"/>\r\n            <path d=\"M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\r\n            165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z\"/>\r\n            <path d=\"M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\r\n            -88 241 -108 241 -4 0 -57 -51 -119 -112z\"/>\r\n            <path d=\"M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\r\n            -10 68 -14 2 -31 -3 -38 -10z\"/>\r\n            <path d=\"M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\r\n            -44 -6 -64 -31z\"/>\r\n            <path d=\"M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\r\n            -54 2z\"/>\r\n            <path d=\"M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\r\n            -24 13 -3 0 -14 -6 -24 -13z\"/>\r\n            <path d=\"M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\r\n            109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z\"/>\r\n            <path d=\"M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\r\n            79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z\"/>\r\n            <path d=\"M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\r\n            -67 12z\"/>\r\n            <path d=\"M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\r\n            10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\r\n            -113z\"/>\r\n            <path d=\"M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\r\n            61 239 98 16 10 -216 242 -234 235z\"/>\r\n            </g>\r\n            </svg></p>\r\n            <p class = 'name'>${name}</p>\r\n            <p class = 'wins'>${wins}</p>\r\n            <p class = 'time'>${time}</p>\r\n        </div>`;\n        hat.insertAdjacentHTML('beforeend', html);\n    }\n    getWinners() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield fetch('http://127.0.0.1:3000/winners');\n            if (res.ok) {\n                let data = yield res.json();\n                data.forEach((v) => {\n                    this.getCar(v.id, v.wins, v.time, data.length);\n                });\n            }\n        });\n    }\n    getCar(id, wins, time, length) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield fetch(`http://127.0.0.1:3000/garage/${id}`);\n            if (res.ok) {\n                let car = yield res.json();\n                this.makeWinner(car.color, car.name, wins, time, length);\n                this.count += 1;\n            }\n        });\n    }\n    sortByWinsHighest(winners) {\n        this.sortByWins = 'higshest';\n        return winners.sort((x, y) => {\n            let a = x.querySelector('.wins');\n            let b = y.querySelector('.wins');\n            return a.textContent.localeCompare(b.textContent);\n        });\n    }\n    sortByWinsLow(winners) {\n        this.sortByWins = 'low';\n        return winners.sort((x, y) => {\n            let a = x.querySelector('.wins');\n            let b = y.querySelector('.wins');\n            return b.textContent.localeCompare(a.textContent);\n        });\n    }\n    sortByTimeHighest(winners) {\n        this.sortByTime = 'higshest';\n        return winners.sort((x, y) => {\n            let a = x.querySelector('.time');\n            let b = y.querySelector('.time');\n            return a.textContent.localeCompare(b.textContent);\n        });\n    }\n    sortByTimeLow(winners) {\n        this.sortByTime = 'low';\n        return winners.sort((x, y) => {\n            let a = x.querySelector('.time');\n            let b = y.querySelector('.time');\n            return b.textContent.localeCompare(a.textContent);\n        });\n    }\n    clickHandler() {\n        let winsP = document.querySelector('.winsP');\n        let timeP = document.querySelector('.timeP');\n        let div = winsP.closest('div');\n        winsP === null || winsP === void 0 ? void 0 : winsP.addEventListener('click', (e) => {\n            let winners = [...document.querySelectorAll('.winner')];\n            if (this.sortByWins == 'low') {\n                winners.forEach((v) => v.remove());\n                this.sortByWinsHighest(winners).forEach((v) => div.insertAdjacentElement('afterend', v));\n            }\n            else {\n                winners.forEach((v) => v.remove());\n                this.sortByWinsLow(winners).forEach((v) => div.insertAdjacentElement('afterend', v));\n            }\n        });\n        timeP.addEventListener('click', (e) => {\n            let winners = [...document.querySelectorAll('.winner')];\n            if (this.sortByTime == 'low') {\n                winners.forEach((v) => v.remove());\n                this.sortByTimeHighest(winners).forEach((v) => div.insertAdjacentElement('afterend', v));\n            }\n            else {\n                winners.forEach((v) => v.remove());\n                this.sortByTimeLow(winners).forEach((v) => div.insertAdjacentElement('afterend', v));\n            }\n        });\n    }\n    eventHandler() {\n        this.elem.addEventListener('click', () => {\n            let divs = [...document.querySelectorAll('div')].slice(2);\n            divs.forEach((div) => {\n                div.remove();\n            });\n            this.draw();\n            this.getWinners();\n            this.count = 1;\n            this.clickHandler();\n        });\n    }\n}\nexports.WinnersBtn = WinnersBtn;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/btn/winer.ts?");

/***/ }),

/***/ "./src/components/car/car.ts":
/*!***********************************!*\
  !*** ./src/components/car/car.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Car = void 0;\nconst select_1 = __webpack_require__(/*! ../btn/select */ \"./src/components/btn/select.ts\");\nconst remove_1 = __webpack_require__(/*! ../btn/remove */ \"./src/components/btn/remove.ts\");\nconst engine_1 = __webpack_require__(/*! ../btn/engine */ \"./src/components/btn/engine.ts\");\nconst carColor_1 = __webpack_require__(/*! ./carColor */ \"./src/components/car/carColor.ts\");\nclass Car {\n    constructor(name, color, id, classes) {\n        this.name = name;\n        this.color = color;\n        this.id = id;\n        this.classes = classes;\n        this.elem = document.createElement('div');\n        this.selectBtn = new select_1.SelectBtn(['selectBtn']);\n        this.removeBtn = new remove_1.RemoveBtn(['removeBtn']);\n        this.span = document.createElement('span');\n        this.engineStartBtn = new engine_1.EngineBtn(['engineBtn'], 'A');\n        this.stopEngineBtn = new engine_1.EngineBtn(['stopEngineBtn'], 'B');\n        this.imgCar = new carColor_1.CarColor(this.color, ['imgCar']);\n    }\n    render() {\n        this.selectBtn.render();\n        this.removeBtn.render();\n        this.engineStartBtn.render();\n        this.stopEngineBtn.render();\n        this.imgCar.render(this.color);\n        this.span.textContent = this.name;\n        this.elem.classList.add(...this.classes);\n        this.elem.id = String(this.id);\n        this.elem.setAttribute('color', this.color);\n        this.elem.insertAdjacentElement('beforeend', this.selectBtn.elem);\n        this.elem.insertAdjacentElement('beforeend', this.removeBtn.elem);\n        this.elem.insertAdjacentElement('beforeend', this.span);\n        this.elem.insertAdjacentElement('beforeend', this.engineStartBtn.elem);\n        this.elem.insertAdjacentElement('beforeend', this.stopEngineBtn.elem);\n        this.elem.insertAdjacentElement('beforeend', this.imgCar.elem);\n    }\n}\nexports.Car = Car;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/car/car.ts?");

/***/ }),

/***/ "./src/components/car/carColor.ts":
/*!****************************************!*\
  !*** ./src/components/car/carColor.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CarColor = void 0;\nclass CarColor {\n    constructor(color, classse = []) {\n        this.color = color;\n        this.elem = document.createElement('p');\n    }\n    render(color) {\n        this.elem.innerHTML = `<?xml version=\"1.0\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 20010904//EN\"\r\n \"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\">\r\n<svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\r\n width=\"1280.000000pt\" height=\"640.000000pt\" viewBox=\"0 0 1280.000000 640.000000\"\r\n preserveAspectRatio=\"xMidYMid meet\">\r\n<metadata>\r\nCreated by potrace 1.15, written by Peter Selinger 2001-2017\r\n</metadata>\r\n<g transform=\"translate(0.000000,640.000000) scale(0.100000,-0.100000)\"\r\nfill=${color} stroke=\"none\">\r\n<path d=\"M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\r\n-10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\r\n-250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\r\n-49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\r\n-150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\r\n0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\r\n-126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\r\n756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\r\n140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\r\nl-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\r\n259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\r\n-63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\r\n-116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\r\n525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\r\n680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\r\n-226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\r\n-208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\r\n10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\r\n-422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\r\n-485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\r\n54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\r\n-67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\r\n274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\r\n-27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z\"/>\r\n<path d=\"M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\r\n-467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\r\n-551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\r\n86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\r\n-354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\r\n1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\r\n0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z\"/>\r\n<path d=\"M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\r\n-114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z\"/>\r\n<path d=\"M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\r\n22 c-34 28 -138 70 -193 79 l-40 7 0 -162z\"/>\r\n<path d=\"M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\r\n165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z\"/>\r\n<path d=\"M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\r\n165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z\"/>\r\n<path d=\"M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\r\n58 -13 0 -29 -8 -34 -18z\"/>\r\n<path d=\"M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\r\n9 153 -71 153 -27 0 -44 -8 -66 -29z\"/>\r\n<path d=\"M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\r\n-54 -2z\"/>\r\n<path d=\"M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\r\n-62 36z\"/>\r\n<path d=\"M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\r\n113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z\"/>\r\n<path d=\"M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\r\n195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z\"/>\r\n<path d=\"M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\r\n-70 0z\"/>\r\n<path d=\"M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\r\n0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z\"/>\r\n<path d=\"M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\r\n232 -230 231 -3 0 -11 -3 -17 -6z\"/>\r\n<path d=\"M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\r\n-411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\r\n380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\r\n-407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\r\n33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\r\n238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\r\n81 364 77 109 -3 143 -7 210 -30z\"/>\r\n<path d=\"M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\r\n119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z\"/>\r\n<path d=\"M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\r\n-163 84 -207 91 l-43 7 0 -162z\"/>\r\n<path d=\"M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\r\n165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z\"/>\r\n<path d=\"M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\r\n-88 241 -108 241 -4 0 -57 -51 -119 -112z\"/>\r\n<path d=\"M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\r\n-10 68 -14 2 -31 -3 -38 -10z\"/>\r\n<path d=\"M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\r\n-44 -6 -64 -31z\"/>\r\n<path d=\"M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\r\n-54 2z\"/>\r\n<path d=\"M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\r\n-24 13 -3 0 -14 -6 -24 -13z\"/>\r\n<path d=\"M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\r\n109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z\"/>\r\n<path d=\"M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\r\n79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z\"/>\r\n<path d=\"M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\r\n-67 12z\"/>\r\n<path d=\"M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\r\n10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\r\n-113z\"/>\r\n<path d=\"M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\r\n61 239 98 16 10 -216 242 -234 235z\"/>\r\n</g>\r\n</svg>\r\n<hr></hr>\r\n<p class = 'flag'></p>`;\n    }\n}\nexports.CarColor = CarColor;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/car/carColor.ts?");

/***/ }),

/***/ "./src/components/component.ts":
/*!*************************************!*\
  !*** ./src/components/component.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Component = void 0;\nclass Component {\n    constructor(tag, parentNode, classes = []) {\n        this.tag = tag;\n        this.parentNode = parentNode;\n        this.classes = classes;\n        this.elem = document.createElement(this.tag);\n    }\n    render() {\n        var _a;\n        this.elem.classList.add(...this.classes);\n        (_a = document.querySelector(`${this.parentNode}`)) === null || _a === void 0 ? void 0 : _a.insertAdjacentElement('beforeend', this.elem);\n    }\n}\nexports.Component = Component;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/component.ts?");

/***/ }),

/***/ "./src/components/main/divComponents.ts":
/*!**********************************************!*\
  !*** ./src/components/main/divComponents.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DivComponent = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nclass DivComponent extends component_1.Component {\n    constructor(...args) {\n        super(...args);\n    }\n    render() {\n        var _a;\n        this.elem.classList.add(...this.classes);\n        (_a = document.querySelector(`${this.parentNode}`)) === null || _a === void 0 ? void 0 : _a.insertAdjacentElement('beforeend', this.elem);\n    }\n}\nexports.DivComponent = DivComponent;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/main/divComponents.ts?");

/***/ }),

/***/ "./src/components/main/garageComponent.ts":
/*!************************************************!*\
  !*** ./src/components/main/garageComponent.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GarageComponent = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nclass GarageComponent extends component_1.Component {\n    constructor(amount, content, ...args) {\n        super(...args);\n        this.amount = amount;\n        this.content = content;\n    }\n    render() {\n        var _a;\n        this.elem.classList.add(...this.classes);\n        this.elem.textContent = `${this.content} (${this.amount})`;\n        (_a = document.querySelector(`${this.parentNode}`)) === null || _a === void 0 ? void 0 : _a.insertAdjacentElement('afterbegin', this.elem);\n    }\n    getCars() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield fetch('http://127.0.0.1:3000/garage');\n            if (res.ok) {\n                const json = yield res.json();\n                this.amount = json.length;\n                this.render();\n            }\n            else {\n                console.log(`Ошибка HTTP: ${res.status}`);\n            }\n        });\n    }\n}\nexports.GarageComponent = GarageComponent;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/main/garageComponent.ts?");

/***/ }),

/***/ "./src/components/main/input.ts":
/*!**************************************!*\
  !*** ./src/components/main/input.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ColorInput = exports.Input = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nclass Input extends component_1.Component {\n    constructor(...args) {\n        super(...args);\n        this.type = 'text';\n        this.name = '';\n        this.id = '';\n    }\n    render() {\n        super.render();\n        this.elem.type = this.type;\n    }\n    eventHandler() {\n        this.elem.addEventListener('change', (event) => {\n            this.name = event.target.value;\n        });\n    }\n    getName() {\n        return this.name;\n    }\n}\nexports.Input = Input;\nclass ColorInput extends component_1.Component {\n    constructor(...args) {\n        super(...args);\n        this.type = 'color';\n        this.color = '';\n        this.id = '';\n    }\n    render() {\n        super.render();\n        this.elem.type = this.type;\n    }\n    eventHandler() {\n        this.elem.addEventListener('change', (event) => {\n            this.color = event.target.value;\n        });\n    }\n    getColor() {\n        return this.color;\n    }\n}\nexports.ColorInput = ColorInput;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/main/input.ts?");

/***/ }),

/***/ "./src/components/main/mainComponets.ts":
/*!**********************************************!*\
  !*** ./src/components/main/mainComponets.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MainComponent = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nconst car_1 = __webpack_require__(/*! ../car/car */ \"./src/components/car/car.ts\");\nclass MainComponent extends component_1.Component {\n    constructor(communicationWith, ...args) {\n        super(...args);\n        this.communicationWith = communicationWith;\n        this.arrCars = [];\n        this.requestId = 0;\n        this.windowSize = document.documentElement.clientWidth;\n    }\n    render() {\n        var _a;\n        this.elem.classList.add(...this.classes);\n        (_a = document.querySelector(`${this.parentNode}`)) === null || _a === void 0 ? void 0 : _a.insertAdjacentElement('afterbegin', this.elem);\n    }\n    renderCars(arr) {\n        this.arrCars = arr.map((v) => {\n            let car = new car_1.Car(v.name, v.color, v.id, ['carContainer']);\n            car.render();\n            this.communicationWith[1].elem.insertAdjacentElement('beforeend', car.elem);\n            return car;\n        });\n    }\n    getCars() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield fetch('http://127.0.0.1:3000/garage/');\n            if (res.ok) {\n                let json = yield res.json();\n                this.communicationWith[0].amount = json.length;\n                this.communicationWith[0].render();\n                this.renderCars(json);\n            }\n            else {\n                console.log('Ошибка HTTP: ' + res.status);\n            }\n        });\n    }\n    eventHandler() {\n        window.onload = () => {\n            this.getCars();\n        };\n    }\n    getName(div) {\n        let indexName = this.arrCars.findIndex((v) => {\n            return v.id == Number(div.id);\n        });\n        let spanContent = document.getElementById(`${div.id}`).querySelector('span').textContent;\n        this.arrCars[indexName].name = spanContent;\n        this.communicationWith[0].amount = String(this.arrCars.length);\n        this.communicationWith[0].render();\n        this.communicationWith[2].id = div.id;\n        this.communicationWith[2].name = `${this.arrCars[indexName].name}`;\n        this.communicationWith[2].elem.value = `${this.arrCars[indexName].name}`;\n        this.communicationWith[2].elem.focus();\n    }\n    getColor(div) {\n        var _a;\n        let divColor = (_a = document.getElementById(`${div.id}`)) === null || _a === void 0 ? void 0 : _a.getAttribute('color');\n        let indexName = this.arrCars.findIndex((v) => {\n            return v.color == divColor || v.id == Number(div.id);\n        });\n        this.communicationWith[0].amount = String(this.arrCars.length);\n        this.communicationWith[0].render();\n        this.arrCars[indexName].color = divColor;\n        this.communicationWith[3].id = div.id;\n        this.communicationWith[3].elem.value =\n            this.arrCars[indexName].color;\n        this.communicationWith[3].color = this.arrCars[indexName].color;\n    }\n    selectHandler(event) {\n        let divFromSelect = event.target.classList.contains('selectBtn')\n            ? event.target.closest('div')\n            : null;\n        if (divFromSelect) {\n            this.getName(divFromSelect);\n            this.getColor(divFromSelect);\n        }\n    }\n    deleteCars(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield fetch(`http://127.0.0.1:3000/garage/${id}`, {\n                method: 'DELETE',\n            });\n        });\n    }\n    deleteWinners(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let res = yield fetch(`http://127.0.0.1:3000/winners/${id}`, {\n                    method: 'DELETE',\n                });\n            }\n            catch (err) {\n                return err;\n            }\n        });\n    }\n    removeHandler(event) {\n        let divFromRemove = event.target.classList.contains('removeBtn')\n            ? event.target.closest('div')\n            : null;\n        if (divFromRemove) {\n            this.deleteCars(divFromRemove.id);\n            this.deleteWinners(divFromRemove.id);\n            this.arrCars = this.arrCars.filter((v) => {\n                return String(v.id) !== (divFromRemove === null || divFromRemove === void 0 ? void 0 : divFromRemove.id);\n            });\n            divFromRemove.remove();\n            this.communicationWith[0].amount = String(this.arrCars.length);\n            this.communicationWith[0].render();\n        }\n    }\n    animate(duration, draw, timing) {\n        let start = performance.now();\n        this.requestId = requestAnimationFrame(function animate(time) {\n            let timeFraction = (time - start) / duration;\n            if (timeFraction > 1)\n                timeFraction = 1;\n            let progress = timing(timeFraction);\n            draw(progress);\n            if (timeFraction < 1) {\n                requestAnimationFrame(animate);\n            }\n        });\n    }\n    startCar(event) {\n        let divFromStart = event.target.classList.contains('engineBtn')\n            ? event.target.closest('div')\n            : null;\n        let svg = divFromStart === null || divFromStart === void 0 ? void 0 : divFromStart.querySelector('svg');\n        if (divFromStart) {\n            this.start(svg, divFromStart.id);\n        }\n    }\n    stopCar(event) {\n        let divFromStart = event.target.classList.contains('stopEngineBtn')\n            ? event.target.closest('div')\n            : null;\n        let svg = divFromStart === null || divFromStart === void 0 ? void 0 : divFromStart.querySelector('svg');\n        if (divFromStart) {\n            this.stop(svg, divFromStart.id);\n        }\n    }\n    start(svg, id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield fetch(`http://127.0.0.1:3000/engine?id=${id}&status=started`, {\n                method: 'PATCH',\n            });\n            if (res.ok) {\n                let data = yield res.json();\n                svg.style.position = 'relative';\n                this.driveMode(svg, id);\n                let time = data.distance / data.velocity;\n                let size = this.windowSize - 220;\n                this.animate(time, function (progress) {\n                    svg.style.left = progress * size + 'px';\n                }, function (timeFraction) {\n                    return Math.pow(timeFraction, 2);\n                });\n            }\n            else {\n                console.log('Ошибка HTTP: ' + res.status);\n            }\n        });\n    }\n    driveMode(svg, id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield fetch(`http://127.0.0.1:3000/engine?id=${id}&status=drive`, {\n                method: 'PATCH',\n            });\n            if (res.ok) {\n            }\n            else {\n                let x = svg.style.left;\n                svg.style.position = 'static';\n                svg.style.marginLeft = x;\n                console.log('Ошибка HTTP: ' + res.status);\n            }\n        });\n    }\n    stop(svg, id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield fetch(`http://127.0.0.1:3000/engine?id=${id}&status=stopped`, {\n                method: 'PATCH',\n            });\n            if (res.ok) {\n                svg.style.position = 'static';\n                svg.style.marginLeft = '0px';\n            }\n        });\n    }\n    clickHandler() {\n        this.elem.addEventListener('click', (event) => {\n            this.selectHandler(event);\n            this.removeHandler(event);\n            this.startCar(event);\n            this.stopCar(event);\n        });\n        window.addEventListener('resize', (e) => {\n            this.windowSize = e.target.innerWidth;\n        });\n    }\n}\nexports.MainComponent = MainComponent;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/main/mainComponets.ts?");

/***/ }),

/***/ "./src/components/main/pageComponent.ts":
/*!**********************************************!*\
  !*** ./src/components/main/pageComponent.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PageComponent = void 0;\nconst component_1 = __webpack_require__(/*! ../component */ \"./src/components/component.ts\");\nclass PageComponent extends component_1.Component {\n    constructor(amount, content, ...args) {\n        super(...args);\n        this.amount = amount;\n        this.content = content;\n    }\n    render() {\n        var _a;\n        this.elem.classList.add(...this.classes);\n        this.elem.textContent = `${this.content} ${this.amount}`;\n        (_a = document.querySelector(`${this.parentNode}`)) === null || _a === void 0 ? void 0 : _a.insertAdjacentElement('beforeend', this.elem);\n    }\n}\nexports.PageComponent = PageComponent;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/main/pageComponent.ts?");

/***/ }),

/***/ "./src/components/selectors.ts":
/*!*************************************!*\
  !*** ./src/components/selectors.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SELECTORS = void 0;\nexports.SELECTORS = {\n    body: 'body',\n    main: '.main',\n    routerContainer: '.routerContainer',\n    controlContainer: '.controlContainer',\n    updateContainer: '.updateContainer',\n    raceContainer: '.raceContainer',\n    raceBtn: '.raceBtn',\n    garageContainer: '.garageContainer',\n    carContainer: '.carContainer',\n    engineBtn: '.engineBtn',\n};\n\n\n//# sourceURL=webpack://asyncrace/./src/components/selectors.ts?");

/***/ }),

/***/ "./src/components/textWints.ts":
/*!*************************************!*\
  !*** ./src/components/textWints.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TextWin = void 0;\nclass TextWin {\n    constructor() {\n        this.elem = document.createElement('p');\n    }\n    add() {\n        document.body.prepend(this.elem);\n        this.elem.classList.add('show');\n    }\n    show(pos, min) {\n        this.elem.textContent = `${++pos}st win,time ${min}sec`;\n        this.elem.style.display = 'block';\n    }\n}\nexports.TextWin = TextWin;\n\n\n//# sourceURL=webpack://asyncrace/./src/components/textWints.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst mainComponets_1 = __webpack_require__(/*! ./components/main/mainComponets */ \"./src/components/main/mainComponets.ts\");\nconst divComponents_1 = __webpack_require__(/*! ./components/main/divComponents */ \"./src/components/main/divComponents.ts\");\nconst createCars_1 = __webpack_require__(/*! ./components/btn/createCars */ \"./src/components/btn/createCars.ts\");\nconst generate_1 = __webpack_require__(/*! ./components/btn/generate */ \"./src/components/btn/generate.ts\");\nconst race_1 = __webpack_require__(/*! ./components/btn/race */ \"./src/components/btn/race.ts\");\nconst reset_1 = __webpack_require__(/*! ./components/btn/reset */ \"./src/components/btn/reset.ts\");\nconst update_1 = __webpack_require__(/*! ./components/btn/update */ \"./src/components/btn/update.ts\");\nconst input_1 = __webpack_require__(/*! ./components/main/input */ \"./src/components/main/input.ts\");\nconst garageComponent_1 = __webpack_require__(/*! ./components/main/garageComponent */ \"./src/components/main/garageComponent.ts\");\nconst pageComponent_1 = __webpack_require__(/*! ./components/main/pageComponent */ \"./src/components/main/pageComponent.ts\");\nconst selectors_1 = __webpack_require__(/*! ./components/selectors */ \"./src/components/selectors.ts\");\nconst garage_1 = __webpack_require__(/*! ./components/btn/garage */ \"./src/components/btn/garage.ts\");\nconst winer_1 = __webpack_require__(/*! ./components/btn/winer */ \"./src/components/btn/winer.ts\");\nclass App {\n    constructor() {\n        this.routerContainer = new divComponents_1.DivComponent('div', selectors_1.SELECTORS.main, ['routerContainer']);\n        ;\n        this.winnersBtn = new winer_1.WinnersBtn('button', selectors_1.SELECTORS.routerContainer, ['btnGarage']);\n        this.controlDiv = new divComponents_1.DivComponent('div', selectors_1.SELECTORS.main, ['controlContainer']);\n        this.createInput = new input_1.Input('input', selectors_1.SELECTORS.controlContainer, ['createInput']);\n        this.paragpraphGarageComponent = new garageComponent_1.GarageComponent('', 'garage', 'p', selectors_1.SELECTORS.garageContainer, [\n            'garageP',\n        ]);\n        this.paragpraphPageComponent = new pageComponent_1.PageComponent(1, 'page', 'p', selectors_1.SELECTORS.garageContainer, [\n            'pageP',\n        ]);\n        this.createColorInput = new input_1.ColorInput('input', selectors_1.SELECTORS.controlContainer, ['createColorInput']);\n        this.updateDiv = new divComponents_1.DivComponent('div', selectors_1.SELECTORS.main, ['updateContainer']);\n        this.updateInput = new input_1.Input('input', selectors_1.SELECTORS.updateContainer, []);\n        this.updateColor = new input_1.ColorInput('input', selectors_1.SELECTORS.updateContainer, []);\n        this.raceContainer = new divComponents_1.DivComponent('div', selectors_1.SELECTORS.main, ['raceContainer']);\n        this.generateBtn = new generate_1.GenerateBtn('button', selectors_1.SELECTORS.raceContainer, ['btnGen']);\n        this.garageContainer = new divComponents_1.DivComponent('div', selectors_1.SELECTORS.main, ['garageContainer']);\n        this.main = new mainComponets_1.MainComponent([this.paragpraphGarageComponent, this.garageContainer, this.updateInput, this.updateColor], 'div', selectors_1.SELECTORS.body, ['main']);\n        this.resetBtn = new reset_1.ResetBtn(this.main, 'button', selectors_1.SELECTORS.raceContainer, ['resetBtn']);\n        this.raceBtn = new race_1.RaceBtn(this.main, 'button', selectors_1.SELECTORS.raceContainer, ['raceBtn']);\n        this.updateBtn = new update_1.UpdateBtn(this.main, [this.updateInput, this.updateColor], 'button', selectors_1.SELECTORS.updateContainer, ['btnCreate']);\n        this.createCar = new createCars_1.CreateCar(this.main, [this.createInput, this.createColorInput, this.paragpraphGarageComponent], 'button', selectors_1.SELECTORS.controlContainer, ['btnCreate']);\n        this.garageBtn = new garage_1.GarageBtn([\n            this.controlDiv,\n            this.createInput,\n            this.createColorInput,\n            this.createCar,\n            this.updateDiv,\n            this.updateInput,\n            this.updateColor,\n            this.updateBtn,\n            this.raceContainer,\n            this.raceBtn,\n            this.resetBtn,\n            this.generateBtn,\n            this.garageContainer,\n            this.paragpraphGarageComponent,\n            this.paragpraphPageComponent,\n        ], this.main, 'button', selectors_1.SELECTORS.routerContainer, ['btnGarage']);\n    }\n    build() {\n        this.main.render();\n        this.routerContainer.render();\n        this.garageBtn.render();\n        this.winnersBtn.render();\n        this.controlDiv.render();\n        this.createInput.render();\n        this.createColorInput.render();\n        this.createCar.render();\n        this.updateDiv.render();\n        this.updateInput.render();\n        this.updateColor.render();\n        this.updateBtn.render();\n        this.raceContainer.render();\n        this.raceBtn.render();\n        this.resetBtn.render();\n        this.generateBtn.render();\n        this.garageContainer.render();\n        this.paragpraphGarageComponent.render();\n        this.paragpraphPageComponent.render();\n    }\n    addHandlers() {\n        this.main.eventHandler();\n        this.main.clickHandler();\n        this.garageBtn.eventHandler();\n        this.raceBtn.eventHandler();\n        this.createInput.eventHandler();\n        this.createColorInput.eventHandler();\n        this.createCar.eventHandler();\n        this.updateInput.eventHandler();\n        this.updateColor.eventHandler();\n        this.updateBtn.eventHandler();\n        this.resetBtn.eventHandler();\n        this.winnersBtn.eventHandler();\n    }\n}\nlet app = new App();\napp.build();\napp.addHandlers();\n\n\n//# sourceURL=webpack://asyncrace/./src/index.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;